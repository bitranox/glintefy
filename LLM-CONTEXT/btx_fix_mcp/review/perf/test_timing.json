{
  "raw_output": "============================= test session starts ==============================\nplatform linux -- Python 3.14.0, pytest-9.0.1, pluggy-1.6.0 -- /home/srvadmin/venvs/pycharm314/bin/python\ncachedir: .pytest_cache\nhypothesis profile 'default'\nrootdir: /media/srv-main-softdev/projects/MCP/btx_fix_mcp\nconfigfile: pyproject.toml\nplugins: cov-7.0.0, hypothesis-6.148.2, asyncio-1.3.0, anyio-4.11.0\nasyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 359 items\n\ntests/servers/test_review.py::TestReviewMCPServer::test_initialization PASSED [  0%]\ntests/servers/test_review.py::TestReviewMCPServer::test_initialization_default_path PASSED [  0%]\ntests/servers/test_review.py::TestReviewMCPServer::test_run_scope_full_mode PASSED [  0%]\ntests/servers/test_review.py::TestReviewMCPServer::test_run_scope_git_mode_non_git PASSED [  1%]\ntests/servers/test_review.py::TestReviewMCPServer::test_run_quality PASSED [  1%]\ntests/servers/test_review.py::TestReviewMCPServer::test_run_security PASSED [  1%]\ntests/servers/test_review.py::TestReviewMCPServer::test_run_all PASSED   [  1%]\ntests/servers/test_review.py::TestReviewMCPServer::test_get_tool_definitions PASSED [  2%]\ntests/servers/test_review.py::TestReviewMCPServer::test_handle_tool_call_scope PASSED [  2%]\ntests/servers/test_review.py::TestReviewMCPServer::test_handle_tool_call_unknown PASSED [  2%]\ntests/servers/test_review.py::TestReviewMCPServerLogging::test_logs_to_stderr PASSED [  3%]\ntests/servers/test_review.py::TestReviewMCPServerLogging::test_mcp_mode_enabled_in_subservers PASSED [  3%]\ntests/subservers/common/test_files.py::TestReadWrite::test_write_and_read_file PASSED [  3%]\ntests/subservers/common/test_files.py::TestReadWrite::test_write_creates_parent_dirs PASSED [  3%]\ntests/subservers/common/test_files.py::TestReadWrite::test_read_nonexistent_file_raises_error PASSED [  4%]\ntests/subservers/common/test_files.py::TestEnsureDir::test_ensure_dir_creates_directory PASSED [  4%]\ntests/subservers/common/test_files.py::TestEnsureDir::test_ensure_dir_nested PASSED [  4%]\ntests/subservers/common/test_files.py::TestEnsureDir::test_ensure_dir_existing PASSED [  5%]\ntests/subservers/common/test_files.py::TestFindFiles::test_find_all_files PASSED [  5%]\ntests/subservers/common/test_files.py::TestFindFiles::test_find_by_pattern PASSED [  5%]\ntests/subservers/common/test_files.py::TestFindFiles::test_find_recursive PASSED [  5%]\ntests/subservers/common/test_files.py::TestFindFiles::test_exclusion_patterns PASSED [  6%]\ntests/subservers/common/test_files.py::TestFindFiles::test_custom_exclusions PASSED [  6%]\ntests/subservers/common/test_files.py::TestFindFiles::test_nonexistent_directory PASSED [  6%]\ntests/subservers/common/test_files.py::TestCountLines::test_count_lines_single_line PASSED [  6%]\ntests/subservers/common/test_files.py::TestCountLines::test_count_lines_multiple PASSED [  7%]\ntests/subservers/common/test_files.py::TestCountLines::test_count_lines_empty PASSED [  7%]\ntests/subservers/common/test_files.py::TestCountLines::test_count_lines_nonexistent PASSED [  7%]\ntests/subservers/common/test_files.py::TestGetFileExtension::test_python_extension PASSED [  8%]\ntests/subservers/common/test_files.py::TestGetFileExtension::test_javascript_extension PASSED [  8%]\ntests/subservers/common/test_files.py::TestGetFileExtension::test_markdown_extension PASSED [  8%]\ntests/subservers/common/test_files.py::TestGetFileExtension::test_no_extension PASSED [  8%]\ntests/subservers/common/test_files.py::TestGetFileExtension::test_multiple_dots PASSED [  9%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_code_files PASSED [  9%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_test_files PASSED [  9%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_docs PASSED [ 10%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_config PASSED [ 10%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_build PASSED [ 10%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_mixed PASSED [ 10%]\ntests/subservers/common/test_files.py::TestCategorizeFiles::test_categorize_empty_list PASSED [ 11%]\ntests/subservers/common/test_git.py::TestGitOperations::test_is_git_repo_true PASSED [ 11%]\ntests/subservers/common/test_git.py::TestGitOperations::test_is_git_repo_false PASSED [ 11%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_repo_root PASSED [ 11%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_repo_root_none_for_non_git PASSED [ 12%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_current_branch PASSED [ 12%]\ntests/subservers/common/test_git.py::TestGitOperations::test_create_commit PASSED [ 12%]\ntests/subservers/common/test_git.py::TestGitOperations::test_create_commit_multiple_files PASSED [ 13%]\ntests/subservers/common/test_git.py::TestGitOperations::test_revert_changes PASSED [ 13%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_diff PASSED [ 13%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_status PASSED [ 13%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_uncommitted_files PASSED [ 14%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_file_history PASSED [ 14%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_last_commit_hash PASSED [ 14%]\ntests/subservers/common/test_git.py::TestGitOperations::test_get_last_commit_hash_none_for_non_git PASSED [ 15%]\ntests/subservers/common/test_git.py::TestGitOperations::test_commit_with_multiline_message PASSED [ 15%]\ntests/subservers/common/test_git.py::TestGitOperations::test_error_on_invalid_file PASSED [ 15%]\ntests/subservers/common/test_git.py::TestGitOperationsWithoutRepo::test_is_git_repo_handles_missing_git PASSED [ 15%]\ntests/subservers/common/test_git.py::TestGitOperationsWithoutRepo::test_is_git_repo_handles_timeout PASSED [ 16%]\ntests/subservers/common/test_logging.py::TestSetupLogger::test_setup_basic_logger PASSED [ 16%]\ntests/subservers/common/test_logging.py::TestSetupLogger::test_setup_logger_with_file PASSED [ 16%]\ntests/subservers/common/test_logging.py::TestSetupLogger::test_setup_logger_custom_level PASSED [ 16%]\ntests/subservers/common/test_logging.py::TestSetupLogger::test_setup_logger_no_console PASSED [ 17%]\ntests/subservers/common/test_logging.py::TestSetupLogger::test_logger_removes_duplicate_handlers PASSED [ 17%]\ntests/subservers/common/test_logging.py::TestLogSection::test_log_section PASSED [ 17%]\ntests/subservers/common/test_logging.py::TestLogSection::test_log_section_custom_level PASSED [ 18%]\ntests/subservers/common/test_logging.py::TestLogDict::test_log_dict_with_title PASSED [ 18%]\ntests/subservers/common/test_logging.py::TestLogDict::test_log_dict_without_title PASSED [ 18%]\ntests/subservers/common/test_logging.py::TestLogFileList::test_log_file_list_short PASSED [ 18%]\ntests/subservers/common/test_logging.py::TestLogFileList::test_log_file_list_truncated PASSED [ 19%]\ntests/subservers/common/test_logging.py::TestLogError::test_log_error_with_context PASSED [ 19%]\ntests/subservers/common/test_logging.py::TestLogError::test_log_error_without_context PASSED [ 19%]\ntests/subservers/common/test_logging.py::TestLogStep::test_log_step PASSED [ 20%]\ntests/subservers/common/test_logging.py::TestLogResult::test_log_result_success PASSED [ 20%]\ntests/subservers/common/test_logging.py::TestLogResult::test_log_result_failure PASSED [ 20%]\ntests/subservers/common/test_logging.py::TestLogResult::test_log_result_custom_level PASSED [ 20%]\ntests/subservers/common/test_logging.py::TestLogMetric::test_log_metric_with_unit PASSED [ 21%]\ntests/subservers/common/test_logging.py::TestLogMetric::test_log_metric_without_unit PASSED [ 21%]\ntests/subservers/common/test_logging.py::TestLogTiming::test_log_timing PASSED [ 21%]\ntests/subservers/common/test_logging.py::TestCreateExecutionLog::test_create_execution_log PASSED [ 22%]\ntests/subservers/common/test_logging.py::TestCreateExecutionLog::test_create_execution_log_creates_directory PASSED [ 22%]\ntests/subservers/common/test_logging.py::TestLogContext::test_log_context_success PASSED [ 22%]\ntests/subservers/common/test_logging.py::TestLogContext::test_log_context_failure PASSED [ 22%]\ntests/subservers/common/test_logging.py::TestLogContext::test_log_context_custom_level PASSED [ 23%]\ntests/subservers/common/test_logging.py::TestLoggerIntegration::test_full_logging_workflow PASSED [ 23%]\ntests/subservers/common/test_logging.py::TestGetMcpLogger::test_get_mcp_logger_returns_logger PASSED [ 23%]\ntests/subservers/common/test_logging.py::TestGetMcpLogger::test_get_mcp_logger_default_name PASSED [ 23%]\ntests/subservers/common/test_logging.py::TestGetMcpLogger::test_get_mcp_logger_debug_level PASSED [ 24%]\ntests/subservers/common/test_logging.py::TestGetMcpLogger::test_get_mcp_logger_has_handler PASSED [ 24%]\ntests/subservers/common/test_logging.py::TestGetMcpLogger::test_get_mcp_logger_no_duplicate_handlers PASSED [ 24%]\ntests/subservers/common/test_logging.py::TestLogDebug::test_log_debug_simple_message PASSED [ 25%]\ntests/subservers/common/test_logging.py::TestLogDebug::test_log_debug_with_context PASSED [ 25%]\ntests/subservers/common/test_logging.py::TestLogErrorDetailed::test_log_error_detailed_basic PASSED [ 25%]\ntests/subservers/common/test_logging.py::TestLogErrorDetailed::test_log_error_detailed_with_context PASSED [ 25%]\ntests/subservers/common/test_logging.py::TestLogErrorDetailed::test_log_error_detailed_with_traceback PASSED [ 26%]\ntests/subservers/common/test_logging.py::TestLogFunctionCall::test_log_function_call_no_args PASSED [ 26%]\ntests/subservers/common/test_logging.py::TestLogFunctionCall::test_log_function_call_with_args PASSED [ 26%]\ntests/subservers/common/test_logging.py::TestLogFunctionCall::test_log_function_call_truncates_long_args PASSED [ 27%]\ntests/subservers/common/test_logging.py::TestLogFunctionResult::test_log_function_result PASSED [ 27%]\ntests/subservers/common/test_logging.py::TestLogFunctionResult::test_log_function_result_with_timing PASSED [ 27%]\ntests/subservers/common/test_logging.py::TestDebugLogDecorator::test_debug_log_decorator_logs_call PASSED [ 27%]\ntests/subservers/common/test_logging.py::TestDebugLogDecorator::test_debug_log_decorator_logs_error PASSED [ 28%]\ntests/subservers/common/test_logging.py::TestLogConfigLoaded::test_log_config_loaded PASSED [ 28%]\ntests/subservers/common/test_logging.py::TestLogConfigLoaded::test_log_config_loaded_redacts_secrets PASSED [ 28%]\ntests/subservers/common/test_logging.py::TestLogSubprocessCall::test_log_subprocess_call PASSED [ 28%]\ntests/subservers/common/test_logging.py::TestLogSubprocessResult::test_log_subprocess_result_success PASSED [ 29%]\ntests/subservers/common/test_logging.py::TestLogSubprocessResult::test_log_subprocess_result_failure PASSED [ 29%]\ntests/subservers/common/test_logging.py::TestLogToolExecution::test_log_tool_execution PASSED [ 29%]\ntests/subservers/common/test_mindsets.py::TestJudgmentCriteria::test_default_values PASSED [ 30%]\ntests/subservers/common/test_mindsets.py::TestJudgmentCriteria::test_custom_values PASSED [ 30%]\ntests/subservers/common/test_mindsets.py::TestReviewerMindset::test_format_header PASSED [ 30%]\ntests/subservers/common/test_mindsets.py::TestReviewerMindset::test_format_approach PASSED [ 30%]\ntests/subservers/common/test_mindsets.py::TestReviewerMindset::test_format_questions PASSED [ 31%]\ntests/subservers/common/test_mindsets.py::TestReviewerMindset::test_format_full PASSED [ 31%]\ntests/subservers/common/test_mindsets.py::TestReviewerMindset::test_format_for_tool_description PASSED [ 31%]\ntests/subservers/common/test_mindsets.py::TestGetMindset::test_get_quality_mindset PASSED [ 32%]\ntests/subservers/common/test_mindsets.py::TestGetMindset::test_get_security_mindset PASSED [ 32%]\ntests/subservers/common/test_mindsets.py::TestGetMindset::test_get_unknown_mindset_returns_default PASSED [ 32%]\ntests/subservers/common/test_mindsets.py::TestGetMindset::test_get_mindset_with_custom_config PASSED [ 32%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_pass_verdict_no_issues PASSED [ 33%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_warning_verdict_few_warnings PASSED [ 33%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_needs_work_verdict_many_warnings PASSED [ 33%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_reject_verdict_critical_issues PASSED [ 33%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_findings_summary PASSED [ 34%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_recommendations_for_reject PASSED [ 34%]\ntests/subservers/common/test_mindsets.py::TestEvaluateResults::test_custom_thresholds PASSED [ 34%]\ntests/subservers/common/test_mindsets.py::TestFormatVerdictReport::test_report_includes_verdict PASSED [ 35%]\ntests/subservers/common/test_mindsets.py::TestFormatVerdictReport::test_report_includes_findings PASSED [ 35%]\ntests/subservers/common/test_mindsets.py::TestFormatVerdictReport::test_report_includes_statistics PASSED [ 35%]\ntests/subservers/common/test_mindsets.py::TestFormatVerdictReport::test_report_includes_mindset_when_requested PASSED [ 35%]\ntests/subservers/common/test_mindsets.py::TestFormatVerdictReport::test_report_excludes_mindset_when_not_requested PASSED [ 36%]\ntests/subservers/common/test_mindsets.py::TestFormatVerdictReport::test_report_includes_recommendations PASSED [ 36%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_valid_outputs PASSED [ 36%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_missing_status_file PASSED [ 37%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_missing_summary_file PASSED [ 37%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_invalid_status_value PASSED [ 37%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_empty_summary_file PASSED [ 37%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_summary_without_markdown_heading PASSED [ 38%]\ntests/subservers/common/test_protocol.py::TestValidateOutputs::test_require_result_json PASSED [ 38%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_valid_status_success PASSED [ 38%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_valid_status_failed PASSED [ 38%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_valid_status_in_progress PASSED [ 39%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_valid_status_partial PASSED [ 39%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_invalid_status PASSED [ 39%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_empty_status_file PASSED [ 40%]\ntests/subservers/common/test_protocol.py::TestValidateStatusFile::test_nonexistent_status_file PASSED [ 40%]\ntests/subservers/common/test_protocol.py::TestValidateSummaryFile::test_valid_summary PASSED [ 40%]\ntests/subservers/common/test_protocol.py::TestValidateSummaryFile::test_summary_without_heading PASSED [ 40%]\ntests/subservers/common/test_protocol.py::TestValidateSummaryFile::test_empty_summary PASSED [ 41%]\ntests/subservers/common/test_protocol.py::TestValidateSummaryFile::test_nonexistent_summary PASSED [ 41%]\ntests/subservers/common/test_protocol.py::TestCreateFiles::test_create_status_file PASSED [ 41%]\ntests/subservers/common/test_protocol.py::TestCreateFiles::test_create_status_file_invalid PASSED [ 42%]\ntests/subservers/common/test_protocol.py::TestCreateFiles::test_create_summary_file PASSED [ 42%]\ntests/subservers/common/test_protocol.py::TestCreateFiles::test_create_summary_file_empty_content PASSED [ 42%]\ntests/subservers/common/test_protocol.py::TestCreateFiles::test_create_summary_file_without_heading PASSED [ 42%]\ntests/subservers/common/test_protocol.py::TestGetStatus::test_get_status_success PASSED [ 43%]\ntests/subservers/common/test_protocol.py::TestGetStatus::test_get_status_failed PASSED [ 43%]\ntests/subservers/common/test_protocol.py::TestGetStatus::test_get_status_nonexistent PASSED [ 43%]\ntests/subservers/common/test_protocol.py::TestGetStatus::test_get_status_invalid PASSED [ 44%]\ntests/subservers/common/test_protocol.py::TestCheckAllSubservers::test_check_all_success PASSED [ 44%]\ntests/subservers/common/test_protocol.py::TestCheckAllSubservers::test_check_with_failure PASSED [ 44%]\ntests/subservers/common/test_protocol.py::TestWaitForCompletion::test_wait_immediate_completion PASSED [ 44%]\ntests/subservers/common/test_protocol.py::TestWaitForCompletion::test_wait_still_in_progress PASSED [ 45%]\ntests/subservers/common/test_protocol.py::TestWaitForCompletion::test_wait_no_status_file PASSED [ 45%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_initialization PASSED [ 45%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_initialization_custom_options PASSED [ 45%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_validate_inputs_no_deps PASSED [ 46%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_validate_inputs_with_pyproject PASSED [ 46%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_validate_inputs_with_package_json PASSED [ 46%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_detect_project_type_python PASSED [ 47%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_detect_project_type_nodejs PASSED [ 47%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_detect_project_type_none PASSED [ 47%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_execute_no_deps PASSED [ 47%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_execute_python_project PASSED [ 48%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_mindset_loaded PASSED [ 48%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_summary_includes_mindset PASSED [ 48%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_license_classification PASSED [ 49%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_vulnerability_to_issues PASSED [ 49%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_outdated_to_issues PASSED [ 49%]\ntests/subservers/review/test_deps.py::TestDepsSubServer::test_licenses_to_issues_disallowed PASSED [ 49%]\ntests/subservers/review/test_deps.py::TestDepsSubServerMCPMode::test_mcp_mode_enabled PASSED [ 50%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_initialization PASSED [ 50%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_initialization_custom_options PASSED [ 50%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_validate_inputs_no_files PASSED [ 50%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_validate_inputs_with_files PASSED [ 51%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_check_project_docs_with_readme PASSED [ 51%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_check_project_docs_missing PASSED [ 51%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_find_missing_docstrings PASSED [ 52%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_execute_with_docs PASSED [ 52%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_mindset_loaded PASSED [ 52%]\ntests/subservers/review/test_docs.py::TestDocsSubServer::test_summary_includes_mindset PASSED [ 52%]\ntests/subservers/review/test_docs.py::TestDocsSubServerMCPMode::test_mcp_mode_enabled PASSED [ 53%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_initialization PASSED [ 53%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_initialization_custom_options PASSED [ 53%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_validate_inputs_no_files PASSED [ 54%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_validate_inputs_with_files PASSED [ 54%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_detect_patterns PASSED [ 54%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_execute_with_code PASSED [ 54%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_expensive_patterns_defined PASSED [ 55%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_mindset_loaded PASSED [ 55%]\ntests/subservers/review/test_perf.py::TestPerfSubServer::test_summary_includes_mindset PASSED [ 55%]\ntests/subservers/review/test_perf.py::TestPerfSubServerMCPMode::test_mcp_mode_enabled PASSED [ 55%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_initialization PASSED [ 56%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_initialization_custom_thresholds PASSED [ 56%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_validate_inputs_missing_files_list PASSED [ 56%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_validate_inputs_success PASSED [ 57%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_execute_no_python_files PASSED [ 57%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_execute_with_simple_code PASSED [ 57%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_execute_with_complex_code PASSED [ 57%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_artifacts_created PASSED [ 58%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_summary_format PASSED [ 58%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_integration_protocol_compliance PASSED [ 58%]\ntests/subservers/review/test_quality.py::TestQualitySubServer::test_config_from_parameters PASSED [ 59%]\ntests/subservers/review/test_quality.py::TestQualitySubServerIntegration::test_full_analysis_workflow PASSED [ 59%]\ntests/subservers/review/test_quality.py::TestQualitySubServerParallel::test_analyzers_run_in_parallel PASSED [ 59%]\ntests/subservers/review/test_quality.py::TestQualitySubServerParallel::test_parallel_execution_uses_thread_pool PASSED [ 59%]\ntests/subservers/review/test_quality.py::TestQualitySubServerParallel::test_parallel_handles_analyzer_failure PASSED [ 60%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_initialization PASSED [ 60%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_validate_inputs_no_results PASSED [ 60%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_validate_inputs_with_results PASSED [ 61%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_gather_results PASSED [ 61%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_compile_metrics PASSED [ 61%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_determine_verdict_approved PASSED [ 61%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_determine_verdict_rejected PASSED [ 62%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_execute_generates_report PASSED [ 62%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_report_artifacts_saved PASSED [ 62%]\ntests/subservers/review/test_report.py::TestReportSubServer::test_subservers_list PASSED [ 62%]\ntests/subservers/review/test_report.py::TestReportSubServerMCPMode::test_mcp_mode_enabled PASSED [ 63%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_initialization PASSED [ 63%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_initialization_custom_mode PASSED [ 63%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_validate_inputs_success PASSED [ 64%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_validate_inputs_not_git_repo PASSED [ 64%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_validate_inputs_invalid_mode PASSED [ 64%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_validate_inputs_missing_repo PASSED [ 64%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_execute_git_mode PASSED [ 65%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_execute_full_mode PASSED [ 65%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_file_categorization PASSED [ 65%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_artifacts_created PASSED [ 66%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_summary_format PASSED [ 66%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_integration_protocol_compliance PASSED [ 66%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_non_git_repo_fallback PASSED [ 66%]\ntests/subservers/review/test_scope.py::TestScopeSubServer::test_empty_repository PASSED [ 67%]\ntests/subservers/review/test_scope.py::TestScopeSubServerEdgeCases::test_relative_paths_in_output PASSED [ 67%]\ntests/subservers/review/test_scope.py::TestScopeSubServerEdgeCases::test_handles_deleted_files PASSED [ 67%]\ntests/subservers/review/test_scope_config.py::TestScopeConfiguration::test_mode_from_parameter PASSED [ 67%]\ntests/subservers/review/test_scope_config.py::TestScopeConfiguration::test_default_mode_is_git PASSED [ 68%]\ntests/subservers/review/test_scope_config.py::TestScopeConfiguration::test_repo_path_is_set PASSED [ 68%]\ntests/subservers/review/test_scope_config.py::TestScopeConfiguration::test_repo_path_defaults_to_cwd PASSED [ 68%]\ntests/subservers/review/test_scope_config.py::TestScopeConfiguration::test_name_defaults_to_scope PASSED [ 69%]\ntests/subservers/review/test_scope_config.py::TestScopeConfiguration::test_custom_name PASSED [ 69%]\ntests/subservers/review/test_scope_config.py::TestScopeConfigurationExecution::test_full_mode_execution PASSED [ 69%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_initialization PASSED [ 69%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_initialization_custom_thresholds PASSED [ 70%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_validate_inputs_missing_files PASSED [ 70%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_validate_inputs_invalid_threshold PASSED [ 70%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_validate_inputs_success PASSED [ 71%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_execute_no_python_files PASSED [ 71%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_execute_with_secure_code PASSED [ 71%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_execute_with_vulnerable_code PASSED [ 71%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_severity_filtering PASSED [ 72%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_artifacts_created PASSED [ 72%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_summary_format PASSED [ 72%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_integration_protocol_compliance PASSED [ 72%]\ntests/subservers/review/test_security.py::TestSecuritySubServer::test_config_from_parameters PASSED [ 73%]\ntests/subservers/review/test_security.py::TestSecuritySubServerIntegration::test_full_scan_workflow PASSED [ 73%]\ntests/subservers/test_base.py::TestSubServerResult::test_result_creation_success PASSED [ 73%]\ntests/subservers/test_base.py::TestSubServerResult::test_result_creation_with_errors PASSED [ 74%]\ntests/subservers/test_base.py::TestSubServerResult::test_invalid_status_raises_error PASSED [ 74%]\ntests/subservers/test_base.py::TestSubServerResult::test_to_dict PASSED  [ 74%]\ntests/subservers/test_base.py::TestBaseSubServer::test_initialization PASSED [ 74%]\ntests/subservers/test_base.py::TestBaseSubServer::test_save_status PASSED [ 75%]\ntests/subservers/test_base.py::TestBaseSubServer::test_save_status_invalid PASSED [ 75%]\ntests/subservers/test_base.py::TestBaseSubServer::test_save_summary PASSED [ 75%]\ntests/subservers/test_base.py::TestBaseSubServer::test_save_json PASSED  [ 76%]\ntests/subservers/test_base.py::TestBaseSubServer::test_run_success PASSED [ 76%]\ntests/subservers/test_base.py::TestBaseSubServer::test_run_missing_input PASSED [ 76%]\ntests/subservers/test_base.py::TestBaseSubServer::test_run_execution_exception PASSED [ 76%]\ntests/subservers/test_base.py::TestIntegrationProtocol::test_protocol_files_created PASSED [ 77%]\ntests/subservers/test_base.py::TestIntegrationProtocol::test_status_values PASSED [ 77%]\ntests/subservers/test_base.py::TestIntegrationProtocol::test_summary_is_markdown PASSED [ 77%]\ntests/test_behaviors.py::test_when_the_greeting_is_sung_it_reaches_the_buffer PASSED [ 77%]\ntests/test_behaviors.py::test_when_no_stream_is_named_stdout_hears_the_song PASSED [ 78%]\ntests/test_behaviors.py::test_when_flush_is_possible_the_stream_is_polished PASSED [ 78%]\ntests/test_behaviors.py::test_when_failure_is_invoked_a_runtime_error_rises PASSED [ 78%]\ntests/test_behaviors.py::test_when_no_work_is_requested_the_placeholder_sits_still PASSED [ 79%]\ntests/test_cli.py::test_when_cli_runs_without_arguments_help_is_printed PASSED [ 79%]\ntests/test_cli.py::test_when_traceback_is_requested_without_command_the_domain_runs PASSED [ 79%]\ntests/test_cli.py::test_default_shows_traceback PASSED                   [ 79%]\ntests/test_cli.py::test_no_traceback_flag_suppresses_traceback PASSED    [ 80%]\ntests/test_cli.py::test_when_hello_is_invoked_the_cli_smiles PASSED      [ 80%]\ntests/test_cli.py::test_when_fail_is_invoked_the_cli_raises PASSED       [ 80%]\ntests/test_cli.py::test_when_info_is_invoked_the_metadata_is_displayed PASSED [ 81%]\ntests/test_cli.py::test_when_an_unknown_command_is_used_a_helpful_error_appears PASSED [ 81%]\ntests/test_cli.py::test_main_returns_zero_on_success PASSED              [ 81%]\ntests/test_cli.py::test_main_returns_nonzero_on_failure PASSED           [ 81%]\ntests/test_cli.py::test_version_option_displays_version PASSED           [ 82%]\ntests/test_cli.py::test_help_option_displays_help PASSED                 [ 82%]\ntests/test_config.py::TestDefaultConfigStructure::test_default_config_file_exists PASSED [ 82%]\ntests/test_config.py::TestDefaultConfigStructure::test_default_config_is_valid_toml PASSED [ 83%]\ntests/test_config.py::TestDefaultConfigStructure::test_required_top_level_sections PASSED [ 83%]\ntests/test_config.py::TestDefaultConfigStructure::test_review_has_required_subsections PASSED [ 83%]\ntests/test_config.py::TestDefaultConfigStructure::test_quality_subsection_structure PASSED [ 83%]\ntests/test_config.py::TestDefaultConfigStructure::test_tools_section_has_all_tools PASSED [ 84%]\ntests/test_config.py::TestQualitySubServerConfigKeys::test_complexity_threshold_key_exists PASSED [ 84%]\ntests/test_config.py::TestQualitySubServerConfigKeys::test_quality_config_keys_used_by_subserver PASSED [ 84%]\ntests/test_config.py::TestScopeSubServerConfigKeys::test_scope_config_keys_documented PASSED [ 84%]\ntests/test_config.py::TestSecuritySubServerConfigKeys::test_security_config_keys_documented PASSED [ 85%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_config_returns_config_object PASSED [ 85%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_config_caches_result PASSED [ 85%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_config_reload_creates_new_config PASSED [ 86%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_subserver_config_returns_dict PASSED [ 86%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_subserver_config_unknown_returns_empty PASSED [ 86%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_tool_config_returns_dict PASSED [ 86%]\ntests/test_config.py::TestConfigModuleFunctions::test_get_tool_config_unknown_returns_empty PASSED [ 87%]\ntests/test_config.py::TestConfigKeyNamingConventions::test_keys_use_snake_case PASSED [ 87%]\ntests/test_config.py::TestConfigKeyNamingConventions::test_boolean_keys_use_enable_prefix PASSED [ 87%]\ntests/test_config.py::TestConfigKeyNamingConventions::test_threshold_keys_use_threshold_suffix PASSED [ 88%]\ntests/test_config.py::TestConfigSectionHierarchy::test_review_subservers_are_nested PASSED [ 88%]\ntests/test_config.py::TestConfigSectionHierarchy::test_tool_configs_are_under_tools PASSED [ 88%]\ntests/test_config.py::TestConfigSectionHierarchy::test_no_duplicate_keys_across_sections PASSED [ 88%]\ntests/test_config.py::TestConfigSectionHierarchy::test_fix_section_mirrors_review_structure PASSED [ 89%]\ntests/test_config.py::TestConfigValuesAreReasonable::test_line_length_values_are_consistent PASSED [ 89%]\ntests/test_config.py::TestConfigValuesAreReasonable::test_python_version_values_are_current PASSED [ 89%]\ntests/test_config.py::TestQualityConfigIntegration::test_quality_subserver_reads_complexity_threshold PASSED [ 89%]\ntests/test_config.py::TestQualityConfigIntegration::test_quality_subserver_constructor_overrides_config PASSED [ 90%]\ntests/test_config.py::TestQualityConfigIntegration::test_quality_subserver_reads_all_feature_flags PASSED [ 90%]\ntests/test_config.py::TestQualityConfigIntegration::test_quality_subserver_reads_all_thresholds PASSED [ 90%]\ntests/test_config.py::TestSecurityConfigIntegration::test_security_subserver_reads_severity_threshold PASSED [ 91%]\ntests/test_config.py::TestScopeConfigIntegration::test_scope_subserver_reads_mode PASSED [ 91%]\ntests/test_config.py::TestScopeConfigIntegration::test_scope_subserver_has_required_attributes PASSED [ 91%]\ntests/test_metadata.py::test_when_print_info_runs_it_lists_every_field PASSED [ 91%]\ntests/test_metadata.py::test_the_metadata_constants_match_the_project PASSED [ 92%]\ntests/test_module_entry.py::test_when_module_entry_returns_zero_the_story_matches_cli PASSED [ 92%]\ntests/test_module_entry.py::test_when_module_entry_raises_the_exit_helpers_format_the_song PASSED [ 92%]\ntests/test_module_entry.py::test_when_traceback_flag_is_used_via_module_entry_the_full_poem_is_printed PASSED [ 93%]\ntests/test_module_entry.py::test_when_module_entry_imports_cli_the_alias_stays_intact PASSED [ 93%]\ntests/test_scripts.py::test_get_project_metadata_fields PASSED           [ 93%]\ntests/test_scripts.py::test_build_script_uses_metadata PASSED            [ 93%]\ntests/test_scripts.py::test_dev_script_installs_dev_extras PASSED        [ 94%]\ntests/test_scripts.py::test_install_script_installs_package PASSED       [ 94%]\ntests/test_scripts.py::test_run_cli_imports_dynamic_package PASSED       [ 94%]\ntests/test_scripts.py::test_test_script_uses_pyproject_configuration PASSED [ 94%]\ntests/test_tools_venv.py::TestCacheDir::test_get_cache_dir_default PASSED [ 95%]\ntests/test_tools_venv.py::TestCacheDir::test_get_cache_dir_xdg PASSED    [ 95%]\ntests/test_tools_venv.py::TestCacheDir::test_get_venv_path PASSED        [ 95%]\ntests/test_tools_venv.py::TestToolPath::test_get_tool_path_linux PASSED  [ 96%]\ntests/test_tools_venv.py::TestToolPath::test_get_tool_path_windows PASSED [ 96%]\ntests/test_tools_venv.py::TestVenvInitialization::test_is_venv_initialized_no_venv PASSED [ 96%]\ntests/test_tools_venv.py::TestVenvInitialization::test_is_venv_initialized_empty_venv PASSED [ 96%]\ntests/test_tools_venv.py::TestVenvInitialization::test_is_venv_initialized_no_marker PASSED [ 97%]\ntests/test_tools_venv.py::TestVenvInitialization::test_is_venv_initialized_complete PASSED [ 97%]\ntests/test_tools_venv.py::TestToolsFromPyproject::test_get_tools_from_pyproject_fallback PASSED [ 97%]\ntests/test_tools_venv.py::TestToolsFromPyproject::test_default_tools_has_required_packages PASSED [ 98%]\ntests/test_tools_venv.py::TestFindPython::test_find_python_returns_executable PASSED [ 98%]\ntests/test_tools_venv.py::TestFindPython::test_find_python_fallback_to_current PASSED [ 98%]\ntests/test_tools_venv.py::TestEnsureToolsVenvMocked::test_ensure_tools_venv_fast_path PASSED [ 98%]\ntests/test_tools_venv.py::TestEnsureToolsVenvMocked::test_ensure_tools_venv_skip_if_disk_initialized PASSED [ 99%]\ntests/test_tools_venv.py::TestRunTool::test_run_tool_not_found PASSED    [ 99%]\ntests/test_tools_venv.py::TestCleanupToolsVenv::test_cleanup_tools_venv PASSED [ 99%]\ntests/test_tools_venv.py::TestCleanupToolsVenv::test_cleanup_nonexistent_venv PASSED [100%]\n\n============================= slowest 10 durations =============================\n7.78s call     tests/subservers/review/test_deps.py::TestDepsSubServer::test_execute_python_project\n7.45s call     tests/subservers/review/test_deps.py::TestDepsSubServer::test_summary_includes_mindset\n1.30s call     tests/servers/test_review.py::TestReviewMCPServer::test_run_quality\n1.27s call     tests/servers/test_review.py::TestReviewMCPServer::test_run_all\n1.04s call     tests/subservers/review/test_quality.py::TestQualitySubServer::test_execute_with_simple_code\n0.95s call     tests/subservers/review/test_quality.py::TestQualitySubServerIntegration::test_full_analysis_workflow\n0.59s call     tests/subservers/review/test_quality.py::TestQualitySubServer::test_artifacts_created\n0.59s call     tests/subservers/review/test_quality.py::TestQualitySubServerParallel::test_analyzers_run_in_parallel\n0.52s call     tests/subservers/review/test_quality.py::TestQualitySubServer::test_summary_format\n0.51s call     tests/subservers/review/test_quality.py::TestQualitySubServer::test_execute_with_complex_code\n============================= 359 passed in 26.72s =============================\n"
}